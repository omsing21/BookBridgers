<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BookBridgers â€” Donor Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>
:root {
  --accent-blue:#7fb1ff;
  --deep-blue:#2b3b4a;
  --muted:#6b7785;
  --cta-blue:#85a9ff;
}
body {
  font-family:'Helvetica Neue',Arial,sans-serif;
  color: var(--deep-blue);
  background:#f7f9fb;
  margin:0;
  line-height:1.5;
}
.page-wrap { max-width:1200px; margin:0 auto; }
.topbar { background:#fff; border-bottom:1px solid rgba(43,59,74,0.03); }
.brand { font-weight:700; color:var(--accent-blue); display:flex; align-items:center; gap:.6rem; }
.brand .logo { width:36px; height:36px; border-radius:6px; background:linear-gradient(135deg,#cfe9ff,#a7f0d0); display:inline-flex; align-items:center; justify-content:center; }
nav a { color: var(--deep-blue); text-decoration:none; margin-right:16px; font-weight:600; }
nav a:hover { color: var(--accent-blue); }
.card { background:#fff; padding:20px; border-radius:12px; box-shadow:0 8px 20px rgba(18,34,56,0.05); margin-bottom:20px; }
.filter-box { background:#fff; border-radius:12px; box-shadow:0 8px 20px rgba(18,34,56,0.05); padding:20px; margin-bottom:20px; }
.filter-box h5 { font-weight:600; margin-bottom:1rem; color: var(--deep-blue); }
.filter-box label { font-size:14px; margin-bottom:.5rem; }
.book-card img { border-radius:10px; margin-bottom:12px; }
.book-card h6 { font-weight:600; margin-bottom:4px; }
.tag { display:inline-block; padding:2px 8px; border-radius:10px; font-size:12px; background:#e6f3ff; color:#0077cc; }
.page-title { font-size:2rem; font-weight:700; margin-bottom:.3rem; color: var(--deep-blue); }
.page-subtitle { color: var(--muted); margin-bottom:2rem; }

/* Account Card */
.account-card { background:#fff; padding:20px; border-radius:12px; box-shadow:0 8px 20px rgba(18,34,56,0.05); margin-top:20px; }
.account-card h4 { margin-bottom:20px; }
.account-card label { font-weight:600; }
.account-card input { width:100%; padding:8px 10px; margin-bottom:15px; border-radius:6px; border:1px solid #ccc; }
.account-card button { width:100%; padding:10px 0; font-size:14px; }
.profile-pic { width:80px; height:80px; border-radius:50%; object-fit:cover; margin-bottom:15px; border:2px solid var(--accent-blue); }

/* Map */
#libraryMap { height: 300px; width: 100%; border-radius: 12px; margin-top:15px; }
#libraryMessage { font-weight:600; color:var(--deep-blue); margin-bottom:10px; }
</style>
</head>
<body>
<header class="topbar py-3">
  <div class="page-wrap d-flex justify-content-between align-items-center">
    <div class="d-flex align-items-center gap-3">
      <div class="brand"><span class="logo">ðŸ“š</span><span>BookBridgers</span></div>
      <nav>
        <a href="index.html">Home</a>
        <a href="community.html">Community</a>
        <a href="student.html">Student</a>
        <a href="library.html">Library</a>
        <a href="donor.html">Donor</a>
        <a href="login.html">Login</a>
      </nav>
    </div>
  </div>
</header>

<main class="page-wrap my-5">
  <h2 class="page-title">Donor Dashboard</h2>
  <p class="page-subtitle">Donate books and help students access learning materials.</p>

  <div class="row mt-4">
    <!-- Left Column: Filter + Account -->
    <div class="col-md-3">
      <!-- Filter Box -->
      <div class="filter-box">
        <h5>Filter</h5>
        <label>Condition</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="condition" id="cond1">
          <label class="form-check-label" for="cond1">4â˜… & above</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="condition" id="cond2">
          <label class="form-check-label" for="cond2">3â˜… & above</label>
        </div>
        <div class="form-check mb-3">
          <input class="form-check-input" type="radio" name="condition" id="cond3" checked>
          <label class="form-check-label" for="cond3">All Books</label>
        </div>

        <label class="mt-3">Category</label>
        <select class="form-select mb-3">
          <option>All</option>
          <option>Story</option>
          <option>Self Growth</option>
          <option>Fantasy</option>
        </select>

        <button class="btn btn-primary w-100">Apply Filter</button>
      </div>

      <!-- Account Details -->
      <div class="account-card">
        <h4>Account Details</h4>
        <img src="https://images.unsplash.com/photo-1740252117070-7aa2955b25f8?q=80&w=1160&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Profile Picture" class="profile-pic">
        <label for="username">Username</label>
        <input type="text" id="username" value="Omsing Pawar">
        <label for="email">Email</label>
        <input type="email" id="email" value="omsing.pawar@somaiya.edu">
        <label for="password">Change Password</label>
        <input type="password" id="password" placeholder="New Password">
        <button class="btn btn-primary mt-2">Update Account</button>
      </div>
    </div>

    <!-- Right Column: Books Grid + Nearest Library -->
    <div class="col-md-9">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card book-card">
            <img src="https://m.media-amazon.com/images/I/71aFt4+OTOL.jpg" class="img-fluid" alt="The Alchemist">
            <h6>The Alchemist</h6>
            <p class="text-muted">â‚¹120</p>
            <span class="tag">Story Book</span>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card book-card">
            <img src="https://m.media-amazon.com/images/I/71aG+xDKSYL.jpg" class="img-fluid" alt="Psychology of Money">
            <h6>Psychology of Money</h6>
            <p class="text-muted">â‚¹155</p>
            <span class="tag">Self Growth</span>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card book-card">
            <img src="https://m.media-amazon.com/images/I/71m-MxdJ2WL.jpg" class="img-fluid" alt="Zero to One">
            <h6>Zero to One</h6>
            <p class="text-muted">â‚¹130</p>
            <span class="tag">Self Growth</span>
          </div>
        </div>
      </div>

      <!-- Nearest Library Section with Map -->
      <div class="card mt-4 p-4">
        <h5>Find Nearest Library to Drop Books</h5>
        <p>Enter your address to see the closest library on the map.</p>
        <input type="text" id="userAddress" class="form-control mb-2" placeholder="Enter your address...">
        <button class="btn btn-primary mb-2" onclick="findLibrary()">Find Library</button>
        <div id="libraryMessage"></div>
        <div id="libraryMap"></div>
      </div>
    </div>
  </div>
</main>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
  // Initialize map
  const map = L.map('libraryMap').setView([19.0760, 72.8777], 12); // Default to Mumbai
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Â© OpenStreetMap contributors'
  }).addTo(map);

  let libraryMarker;

  function findLibrary() {
    const address = document.getElementById('userAddress').value.trim();
    const messageDiv = document.getElementById('libraryMessage');

    if (!address) {
      alert('Please enter your address!');
      return;
    }

    // Mock libraries data
    const libraries = [
      { name: "City Central Library", lat: 19.081, lng: 72.885 },
      { name: "Eastside Community Library", lat: 19.095, lng: 72.890 },
      { name: "Westside Public Library", lat: 19.070, lng: 72.870 }
    ];

    const nearest = libraries[0]; // Mock nearest library

    if (libraryMarker) {
      map.removeLayer(libraryMarker);
    }

    libraryMarker = L.marker([nearest.lat, nearest.lng]).addTo(map)
      .bindPopup(`<b>${nearest.name}</b>`).openPopup();

    map.setView([nearest.lat, nearest.lng], 14);

    // Show message
    messageDiv.textContent = `The nearest library to your location is: ${nearest.name}`;
  }
</script>
</body>
</html>
